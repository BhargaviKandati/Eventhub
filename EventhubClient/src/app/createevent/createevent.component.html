<app-nav></app-nav>
<div class="events-management-page">
  <div class="create-event-container">
    <h2>ğŸ‰ Create New Event</h2>
    <!-- Error/Success Messages -->
    <p *ngIf="isLoading">Loading events...</p>
    <p *ngIf="errorMessage" class="error-message">{{ errorMessage }}</p>
    <!-- Add Event Form -->
    <form (submit)="createEvent()">
      <div class="form-group">
        <label for="title">Event Title</label>
        <input type="text" id="title" [(ngModel)]="newEvent.title" 
        name="title" placeholder="Enter event title" required />
      </div>
      <div class="form-group">
        <label for="categoryId">Category ID</label>
        <input type="number" id="categoryId" [(ngModel)]="newEvent.categoryId"
        name="categoryId" placeholder="Enter category ID" required />
      </div>
      <div class="form-group">
        <label for="categoryName">Category Name</label>
        <input type="text" id="categoryName" [(ngModel)]="newEvent.categoryName" 
        name="categoryName" placeholder="Enter category name" required />
      </div>
      <div class="form-group">
        <label for="price">Price</label>
        <input type="number" id="price" [(ngModel)]="newEvent.price" 
        name="price" placeholder="Enter price" required />
      </div>
      <div class="form-group">
        <label for="venueName">Venue Name</label>
        <input type="text" id="venueName" [(ngModel)]="newEvent.venueName" 
        name="venueName" placeholder="Enter venue name" required />
      </div>
      <div class="form-group">
        <label for="startTime">Start Time</label>
        <input type="datetime-local" id="startTime" [(ngModel)]="newEvent.startTime" 
        name="startTime" required />
      </div>
      <div class="form-group">
        <label for="endTime">End Time</label>
        <input type="datetime-local" id="endTime" [(ngModel)]="newEvent.endTime" name="endTime" required />
      </div>
      <div class="form-group">
        <label for="isActive">Active</label>
        <input type="checkbox" id="isActive" [(ngModel)]="newEvent.isActive" name="isActive" />
      </div>
      <button type="submit">{{ newEvent.eventId ? 'Update' : 'Create' }} Event</button>
    </form>
  </div>

  <div class="manage-events-container">
    <h2>ğŸ“… Manage Events</h2>
    <!-- Display Events -->
    <table *ngIf="events.length > 0" class="events-table">
      <thead>
        <tr>
          <th>Event ID</th>
          <th>Title</th>
          <th>Category ID</th>
          <th>Category Name</th>
          <th>Price</th>
          <th>Venue Name</th>
          <th>Start Time</th>
          <th>End Time</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let event of events">
          <td>{{ event.eventId }}</td>
          <td>{{ event.title }}</td>
          <td>{{ event.categoryId }}</td>
          <td>{{ event.categoryName }}</td>
          <td>{{ event.price }}</td>
          <td>{{ event.venueName }}</td>
          <td>{{ event.startTime }}</td>
          <td>{{ event.endTime }}</td>
          <td>{{ event.isActive ? 'âœ… Active' : 'âŒ Inactive' }}</td>
          <td>
            <button (click)="editEvent(event)" class="edit-btn">âœï¸ Edit</button>
            <button (click)="deleteEvent(event.eventId)" class="delete-btn">ğŸ—‘ï¸ Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
    <p *ngIf="!isLoading && events.length === 0" class="no-events">No events found.</p>
  </div>
</div>
  